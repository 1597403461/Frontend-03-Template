# 学习笔记

## 第二步总结

1. 用FSM实现HTML分析
2. 在HTML标准里，已经规定好了HTML状态

## 第三步总结

1. 主要的标签有：开始标签、结束标签和自封闭标签
2. 暂时忽略属性

## 第四步总结（加入业务逻辑）

1. 在状态机中，除了状态迁移，我们还会要加入业务逻辑，（创建token，把字符加到token上，最后emit（token））
2. 我们在标签结束状态提交标签token

## 第五步总结（处理属性）

1. 属性值分为单引号、双引号、无引号三种方式，因此需要较多状态处理
2. 处理属性的方式根标签类似
3. 属性结束时，我们把属性加到标签token上

## 第六步总结（用token构建DOM树）

1. 从标签构建DOM树的基本技巧是使用栈
2. 遇到开始标签时创建元素并且入栈，遇到结束标签时出栈
3. 自封闭标签入栈后立刻出栈
4. 任何元素的父元素是它入栈前的栈顶

## 第七步总结（添加文本节点）

1. 文本节点与自封闭标签处理类似
2. 多个文本节点需要合并处理
